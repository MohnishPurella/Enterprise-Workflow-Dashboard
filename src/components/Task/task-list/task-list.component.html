<div class="page-templace">
    <div class="page-title">Tasks</div>
    <div class="row">
        <div class="col-12">
            <p-table 
                [value]="taskList" 
                styleClass="p-datatable-striped custom-table">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Title</th>
                            <th>Assignee</th>
                            <th>Status</th>
                            <th>Priority</th>
                            <th>Due Date</th>
                            <th>Updated At</th>
                            <th class="move-to-right">Action</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-task>
                        <tr>
                            <td>{{task.title}}</td>
                            <td>{{task.assignee}}</td>
                            <td>
                                <div [ngSwitch]="task.status">
                                    <span *ngSwitchCase="'Todo'" class="badge bg-secondary">To Do</span>
                                    <span *ngSwitchCase="'In Progress'" class="badge bg-primary">In Progress</span>
                                    <span *ngSwitchCase="'Review'" class="badge bg-warning text-dark">Review</span>
                                    <span *ngSwitchCase="'Done'" class="badge bg-success">Done</span>
                                    <span *ngSwitchCase="'Rejected'" class="badge bg-danger">Rejected</span>
                                    <span *ngSwitchCase="'Pending'" class="badge bg-info text-dark">Pending</span>                                  
                                </div>
                            </td>
                            <td>
                                <div [ngSwitch]="task.priority">
                                    <span *ngSwitchCase="'High'" class="text-danger">High</span>
                                    <span *ngSwitchCase="'Medium'" class="text-warning">Medium</span>
                                    <span *ngSwitchCase="'Low'" class="text-info">Low</span>                                
                                </div>
                            </td>
                            <td>{{task.dueDate | date:'dd-MM-yy'}}</td>
                            <td>{{task.updatedAt | date:'dd-MM-yy'}}</td>
                            <td>
                                <div class="move-to-right">
                                    <a class="dropdown-toggle text-dark" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"></a>
                                    <ul class="dropdown-menu dropdown-menu-end dropdown-menu-lg-start">
                                        <li>
                                            <a class="dropdown-item text-info" href="javascript:" (click)="viewTask(task)"><i class="bi bi-eye icon-space"></i>View</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-primary" href="javascript:" (click)="editTask(task)"><i class="bi bi-pencil icon-space"></i>Edit</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-danger" href="javascript:" (click)="deleteTask(task)"><i class="bi bi-trash3 icon-space"></i>Delete</a>
                                        </li>
                                    </ul>
                                  </div>
                            </td>
                        </tr>
                    </ng-template>
            </p-table>
        </div>
    </div>
</div>